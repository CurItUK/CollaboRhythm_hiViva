<?xml version="1.0"?>
<hiviva:HivivaViewBase xmlns:fx="http://ns.adobe.com/mxml/2009"
					   xmlns:s="library://ns.adobe.com/flex/spark"
					   xmlns:hiviva="collaboRhythm.shared.view.hiviva.*"
					   actionBarVisible="false">
	<fx:Script><![CDATA[

		import collaboRhythm.hiviva.controller.HivivaApplicationController;

		import mx.core.IVisualElementContainer;

		import starling.core.Starling;

		public static const RECORD_BACKGROUND_COLOR:uint = 0xE6E7E8;

		private var _widgetContainers:Vector.<IVisualElementContainer> = new Vector.<IVisualElementContainer>();

		private var starFW:Starling;

		override protected function createChildren():void
		{
			super.createChildren();
			if (_hivivaApplicationController && _activeRecordAccount)
			{
				init();
				(_hivivaApplicationController as HivivaApplicationController).useWidgetContainers();
			}
		}

		public function init():void
		{
			_widgetContainers.push(mainWidgetsGroup);
			_widgetContainers.push(buttonWidgetsGroup);
			initStarling();
		}

		private function initStarling():void
		{
			trace("Starling Init");
			starFW = new Starling(Main , stage);
			starFW.start();
		}

		public function get widgetContainers():Vector.<IVisualElementContainer>
		{
			return _widgetContainers;
		}

		]]></fx:Script>


	<s:VGroup width="100%" height="100%">
		<s:HGroup width="100%" height="100%" gap="0" paddingLeft="10" paddingRight="10" paddingTop="10"
				  paddingBottom="10" verticalAlign="middle">
			<s:HGroup id="mainWidgetsGroup" width="100%" height="100%" gap="20"/>
			<s:VGroup id="buttonWidgetsGroup" width="110" gap="70"/>
		</s:HGroup>
	</s:VGroup>
</hiviva:HivivaViewBase>
