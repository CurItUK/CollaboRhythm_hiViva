<?xml version="1.0"?>
<!---
 - Copyright 2012 John Moore, Scott Gilroy
 -
 - This file is part of CollaboRhythm.
 -
 - CollaboRhythm is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 - License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later
 - version.
 -
 - CollaboRhythm is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 - warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
 - details.
 -
 - You should have received a copy of the GNU General Public License along with CollaboRhythm.  If not, see
 - <http://www.gnu.org/licenses/>.
-->
<tablet:TabletViewBase xmlns:fx="http://ns.adobe.com/mxml/2009"
					   xmlns:s="library://ns.adobe.com/flex/spark"
					   xmlns:tablet="collaboRhythm.shared.view.tablet.*"
					   xmlns:sharedView="collaboRhythm.plugins.schedule.shared.view.*"
					   >
	<!--<fx:Declarations>-->
		<!--<s:Button id="saveActionButton" label="Save" enabled="false" click="saveButton_clickHandler()"/>-->
	<!--</fx:Declarations>-->
	<!--<fx:Script><![CDATA[-->
		<!--import collaboRhythm.plugins.medications.controller.MedicationHealthActionInputController;-->
		<!--import collaboRhythm.plugins.medications.model.MedicationHealthActionInputModel;-->
		<!--import collaboRhythm.plugins.schedule.shared.model.HealthActionInputModelAndController;-->
		<!--import collaboRhythm.shared.model.services.ICurrentDateSource;-->
		<!--import collaboRhythm.shared.model.services.WorkstationKernel;-->

		<!--[Bindable]-->
		<!--protected var _dataInputModel:MedicationHealthActionInputModel;-->
		<!--protected var _dataInputController:MedicationHealthActionInputController;-->
		<!--private var _currentDateSource:ICurrentDateSource;-->

		<!--override public function set data(value:Object):void-->
		<!--{-->
			<!--super.data = value;-->

			<!--var dataInputModelAndController:HealthActionInputModelAndController = value as-->
					<!--HealthActionInputModelAndController;-->

			<!--_dataInputModel = MedicationHealthActionInputModel(dataInputModelAndController.healthActionInputModel);-->
			<!--_dataInputController = MedicationHealthActionInputController(dataInputModelAndController.healthActionInputController);-->

			<!--_currentDateSource = WorkstationKernel.instance.resolve(ICurrentDateSource) as ICurrentDateSource;-->

			<!--if (_dataInputModel.scheduleItemOccurrence && _dataInputModel.scheduleItemOccurrence.adherenceItem)-->
			<!--{-->
				<!--changeTimeButton.visible = false;-->
				<!--if (_dataInputModel.scheduleItemOccurrence.adherenceItem.adherenceResults &&-->
						<!--_dataInputModel.scheduleItemOccurrence.adherenceItem.adherenceResults.length != 0)-->
				<!--{-->
					<!--var bloodGlucoseVitalSign:VitalSign = _dataInputModel.scheduleItemOccurrence.adherenceItem.adherenceResults[0] as-->
							<!--VitalSign;-->
					<!--if (bloodGlucoseVitalSign)-->
					<!--{-->
						<!--dateMeasuredStartLabel.text = timeFormatter.format(bloodGlucoseVitalSign.dateMeasuredStart);-->
					<!--}-->
				<!--}-->
			<!--}-->
			<!--else-->
			<!--{-->
				<!--BindingUtils.bindSetter(setDateMeasuredStartSpinner, _dataInputModel, "dateMeasuredStart");-->
			<!--}-->


		<!--}-->

		<!--override protected function createChildren():void-->
		<!--{-->
			<!--super.createChildren();-->
			<!--actionContent.unshift(saveActionButton);-->
		<!--}-->

		<!--private function creationCompleteHandler():void-->
		<!--{-->
			<!--timeSpinner.selectedDate = _currentDateSource.now();-->
		<!--}-->

		<!--private function saveButton_clickHandler():void-->
		<!--{-->
			<!--_dataInputController.createAndSaveMedicationAdministration(timeSpinner.selectedDate)-->
		<!--}-->

		<!--private function showHistoryButton_clickHandler():void-->
		<!--{-->

		<!--}-->
		<!--]]></fx:Script>-->
	<!--<s:Group width="100%" height="140">-->
		<!--<s:Rect width="100%" height="100%">-->
			<!--<s:fill>-->
				<!--<s:SolidColor color="0xFFFFFF"/>-->
			<!--</s:fill>-->
		<!--</s:Rect>-->
		<!--<sharedView:ScheduledHealthActionDetailView id="scheduledHealthActionDetailView" width="50%" height="100%"-->
													<!--horizontalCenter="0"/>-->
		<!--<s:Group width="25%" height="100%" right="0">-->
			<!--<s:Button label="Show History" verticalCenter="0" click="showHistoryButton_clickHandler()"/>-->
		<!--</s:Group>-->
		<!--<s:Line width="100%" bottom="0">-->
			<!--<s:stroke>-->
				<!--<s:SolidColorStroke color="0x000000"/>-->
			<!--</s:stroke>-->
		<!--</s:Line>-->
	<!--</s:Group>-->
	<!--<s:HGroup gap="15" verticalAlign="middle" verticalCenter="0" right="140">-->
		<!--<s:Label id="dateMeasuredStartLabel" includeIn="dateLabel"/>-->
		<!--<s:DateSpinner id="dateMeasuredStartSpinner" displayMode="time"-->
					   <!--change="dateMeasuredStartSpinner_changeHandler()" includeIn="dateSpinner"/>-->
		<!--<s:Button id="changeTimeButton" label="Change Time" click="changeTimeButton_clickHandler()"-->
				  <!--includeIn="dateLabel"/>-->
	<!--</s:HGroup>-->
	<!--<s:Button id="saveButton" label="Save" width="200" height="100" bottom="90" horizontalCenter="0"-->
			  <!--fontSize="40" click="saveButton_clickHandler()"/>-->
</tablet:TabletViewBase>
