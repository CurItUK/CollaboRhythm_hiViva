<?xml version="1.0"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:shared="collaboRhythm.shared.view.*"
		width="110" height="110">
		<fx:Style>
			@namespace s "library://ns.adobe.com/flex/spark";

			.videoCount {
				color: #FFFFFF;
				font-size: 40;
			}

		</fx:Style>
	<fx:Script><![CDATA[
		import collaboRhythm.plugins.messages.controller.MessagesAppController;
		import collaboRhythm.shared.model.healthRecord.document.MessagesModel;

		private var _messagesAppController:MessagesAppController;
		[Bindable]
		private var _messagesModel:MessagesModel;

		public function init(messagesAppController:MessagesAppController, messagesModel:MessagesModel):void
		{
			_messagesAppController = messagesAppController;
			_messagesModel = messagesModel;
		}

		private function showMessagesViewButton_clickHandler():void
		{
			_messagesAppController.showMessagesView();
		}
		]]></fx:Script>
	<shared:WidgetButton id="showFullViewButton" icon="{MessagesIcon}" width="70" height="70" left="0" bottom="0" skinClass="collaboRhythm.shared.view.WidgetButtonSkin" click="showMessagesViewButton_clickHandler()"/>
	<s:Group id="unreadVideoMessageIndicator" width="40" height="40" top="0" right="0" visible="{_messagesModel.unreadMessageCount != 0}">
		<s:Ellipse width="100%" height="100%">
			<s:fill>
				<s:SolidColor color="0x2EB5E5"/>
			</s:fill>
		</s:Ellipse>
		<s:Label id="unreadVideoMessageCountLabel" styleName="videoCount" horizontalCenter="0" verticalCenter="3" text="{_messagesModel.unreadMessageCount.toString()}"/>
	</s:Group>
</s:Group>
